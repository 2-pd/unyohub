--------------------------------------------------------------------------------

  ユーザー投稿型鉄道運用データベース「鉄道運用Hub」設計案    ページ(6)

--------------------------------------------------------------------------------

# コマンドラインツール(「unyohub」コマンド)

## unyohub setup-libs
ライブラリの初期設定を行う  
処理本体は**libs_setup.php**

### 引数
**第1引数** : 管理者ユーザーID(省略時は「unyohub_admin」)


## unyohub conv-formations
編成表データを変換する  
処理本体は**convert_formation_table.py**

### 引数
**第1引数** : 路線系統識別名


## unyohub update-operations
運用表をデータベースに書き込む  
処理本体は**write_operations_to_db.py**

### 引数
**第1引数** : 路線系統識別名  
**第2引数** : ダイヤ改正識別名  
**第3引数** : ダイヤ識別名


## unyohub init-db
各路線系統用データベースファイルを生成する  
処理本体は**initialize_db.py**

### 引数
**第1引数** : 路線系統識別名


## unyohub init-moderation-db
モデレーションログ格納データベースファイルを生成する  
処理本体は**initialize_moderation_db.py**

### 引数
(なし)


## process_transition_data.py
前日の運用データから運用遷移データのキャッシュを生成したあと、指定した期間の遷移確率データを生成する

### 引数
**第1引数** : 対象期間(7以上の整数、省略時は60とみなす)


## calculate_transition_percentage.py
キャッシュ済みの運用遷移データから運用遷移確率データを生成する。指定した期間の途中にダイヤ改正が行われている場合、改正以前のデータは計算から除外する。

### 引数
**第1引数** : 路線系統識別名  
**第2引数** : 対象期間(7以上の整数、省略時は60とみなす)


## cache_transition_data.py
運用データから運用遷移データのキャッシュを生成する

### 引数
**第1引数** : 路線系統識別名  
**第2引数** : YYYY-MM-DD形式のキャッシュ範囲開始日(省略時は実行時の前日の日付を使用)  
**第3引数** : YYYY-MM-DD形式のキャッシュ範囲終了日(省略時は第2引数の日付を使用)
